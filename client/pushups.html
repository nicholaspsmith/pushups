<head>
  <title>pushups</title>
  <meta name="viewport" content="user-scalable=no, initial-scale=1,
        maximum-scale=1, minimum-scale=1, target-densitydpi=device-dpi" />
</head>

<body>
  {{#if currentUser}}
  <!-- Nav tabs -->
  <ul class="nav nav-tabs {{#if isMobile}}bottom{{/if}}" role="tablist">
    <li role="presentation" class="{{#if isDesktop}}active{{/if}}"><a href="#dashboard" aria-controls="dashboard" role="tab" data-toggle="tab">Dashboard</a></li>
    <li role="presentation" class="{{#if isMobile}}active{{/if}}"><a href="#new" aria-controls="new" role="tab" data-toggle="tab">New</a></li>
    <li role="presentation" class="login-tab"><a href="#" aria-controls="new" role="tab" data-toggle="tab">{{> loginButtons}}</a></li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane {{#if isMobile}}active{{/if}}" id="new">
      <div class="date">{{date}}</div>
      <h2>Log movements</h2>
      <form>
        <div class="num">
          <input placeholder="0" value="{{currentNumber}}" type="text" pattern="\d*" class="qty">
        </div>
        <div class="quick-numbers">
          <button>5</button>
          <button>10</button>
          <button>20</button>
          <button>50</button>
          <button>100</button>
        </div>
        <div class="movement-selector">
          <button class="pullups {{checkedIf 'pullups'}}"><img src="/pullup.png" alt="pullups" data-exercise="pullups"></button>
          <button class="pushups {{checkedIf 'pushups'}}"><img src="/pushup.png" alt="pushups" data-exercise="pushups"></button>
          <button class="situps {{checkedIf 'situps'}}"><img src="/situp.png" alt="situps" data-exercise="situps"></button>
          <button class="squats {{checkedIf 'squats'}}"><img src="/squat.png" alt="squats" data-exercise="squats"></button>
        </div>
        <input type="submit" class="btn btn-primary btn-info submit-button">
      </form>
      {{> addedmodal}}
    </div>
    <div role="tabpanel" class="tab-pane {{#if isDesktop}}active{{/if}}" id="dashboard">
      <div class="date">{{date}}</div>
      {{> datepicker}}

      {{#if isDesktop}}
        {{> barchart}}
      {{else}}
        {{> mobileBarchart}}
      {{/if}}
    </div>
  </div>
  {{else}}
    {{> loginButtons}}
  {{/if}}

</body>

<template name="datepicker">
  <div class="date-time">
    {{#if isDesktop}}
      <input type="text" class="datepicker" id="datepicker" value="{{currentDate}}" readonly="true">
    {{else}}
      <input type="text" class="form-control" id="my-datepicker">
    {{/if}}
  </div>
</template>



<template name="barchart">
  <div id="barchart"></div>
</template>

<template name="mobileBarchart">
  <div id="barchart"></div>
</template>
